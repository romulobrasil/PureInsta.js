/* ========================================================================
 * Pure Insta JS: pureinsta.js v0.4
 * https://romulobrasil.com
 * Copyright (c) 2016 Rômulo Brasil
 * ========================================================================
 */

"use strict";var PureInsta={init:function(){var e=arguments,a="",s="",t="",n="",o="",i="",l="";if("undefined"===e[0].element)console.log("PureInsta.js: Elemento não declarado, favor olhar documentação");else var r=document.querySelector(e[0].element);if("undefined"===e[0].quantidade)var d=20;else e[0].quantidade>20?(d=20,console.log("PureInsta.js: quantidade está acima de 20. Quantidade máxima de 20 fotos.")):d=e[0].quantidade;if(void 0===e[0].accessToken)console.log("PureInsta.js: Paramentro de Access Token não foi definido");else var u=e[0].accessToken;a=void 0===e[0].classList?"pureInsta-item":e[0].classList,s=void 0===e[0].classHover?"pureInsta-hover":e[0].classList,t=void 0===e[0].classPlus?"":'<span class="'+e[0].classPlus+'"></span>';var c=new XMLHttpRequest,g="https://api.instagram.com/v1/users/self/media/recent/?access_token="+u;console.log(g),c.onreadystatechange=function(){4==c.readyState&&200==c.status&&function(u){var c,g="";for(console.log(u),l=Object.keys(u.data).length<d?Object.keys(u.data).length:d,c=0;c<l;c++){if(n=void 0===e[0].openInsta||!1===e[0].openInsta?u.data[c].images.standard_resolution.url:u.data[c].link,void 0===e[0].images?i=u.data[c].images.low_resolution.url:"low"===e[0].images?i=u.data[c].images.low_resolution.url:"thumbnail"===e[0].images?i=u.data[c].images.thumbnail.url:"standard"===e[0].images&&(i=u.data[c].images.standard_resolution.url),void 0===e[0].titulo)o="";else{var m=e[0].titulo,v="",p=u.data[c].caption;null!==p?(v=p.text,o=0===m?"<p>"+v+"</p>":v.length<=m?"<p>"+v.substring(0,m)+"</p>":"<p>"+v.substring(0,m)+"...</p>"):o=""}g+='<li class="'+a+'"><a href="'+n+'" target="_blank" class="pureInsta-target"><figure><img src="'+i+'" alt=""/></figure><div class="'+s+'">'+t+o+"</div></a></li>"}r.innerHTML=g}(JSON.parse(c.responseText))},c.open("GET",g,!0),c.send()}};