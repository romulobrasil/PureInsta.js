/* ========================================================================
 * Pure Insta JS: pureinsta.js v1.0
 * https://romulobrasil.com
 * Copyright (c) 2016-2022 RÃ´mulo Brasil
 * ========================================================================
 */
const PureInsta={captionTxt:"",el:"",plus:"",data:{amount:25,bgPhoto:!1,classHover:"pure-insta__hover",classItem:"pure-insta__item",classPlus:"",element:"PureInsta.js: favor declarar o elemento que vai receber as imagens.",fields:"caption,id,media_type,media_url,permalink,thumbnail_url,timestamp,username",openInsta:!1,title:0,token:"PureInsta.js: favor declarar o token."},loopInsta(){let t=`https://graph.instagram.com/me/media?access_token=${this.data.token}&fields=${this.data.fields}`;t&&fetch(t).then(t=>t.json()).then(t=>{let a="",s=1;for(let e of t.data){let i=e.thumbnail_url?e.thumbnail_url:e.media_url,n=this.data.openInsta?e.permalink:i;if(e.caption&&(0==this.data.title?this.captionTxt=`<span class="pure-insta__caption">${e.caption}</span>`:e.caption.length<=this.data.title?this.captionTxt=`<span class="pure-insta__caption">${e.caption.substring(0,this.data.title)}</span>`:this.captionTxt=`<span class="pure-insta__caption">${e.caption.substring(0,this.data.title)}...</span>`),a+=`              <figure class="${this.data.classItem}" ${this.data.bgPhoto?`style="background-image: url(${i});"`:""}><a href="${n}" title="Ver foto no Instagram" class="pure-insta__target" ${this.data.openInsta?'target="_blank"':""}><img src="${i}" alt="${document.title}"/>`,this.captionTxt&&(a+=`<figcaption class="${this.data.classHover}">${this.plus} ${this.captionTxt}</figcaption>`),a+="</a></figure>",s===this.data.amount)break;s++}this.el.innerHTML=a})},init(){let t=arguments[0];for(let[a,s]of Object.entries(this.data))t[a]?this.data[a]=t[a]:("element"===a||"token"===a)&&console.log(this.data[a]);this.el=document.querySelector(this.data.element),this.el||console.log("PureInsta.js: favor declarar o elemento que vai receber as imagens."),this.data.classPlus&&(this.plus=`<i class="${this.data.classPlus}"></i>`),this.loopInsta()}};